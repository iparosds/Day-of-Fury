[gd_scene load_steps=12 format=3 uid="uid://sexva2yp2cww"]

[ext_resource type="Script" uid="uid://0e88no365uj6" path="res://scripts/world/world.gd" id="1_i7141"]
[ext_resource type="PackedScene" uid="uid://5qiutcfa6bb8" path="res://scenes/player/player.tscn" id="2_4mrxx"]
[ext_resource type="PackedScene" uid="uid://bnsbq016sfu1d" path="res://scenes/player/camera_rig.tscn" id="3_7r4gi"]
[ext_resource type="PackedScene" uid="uid://dmwo4fku7gxfi" path="res://scenes/enemies/spider.tscn" id="4_w7kh3"]
[ext_resource type="Material" uid="uid://ckn4iqgf3jxcm" path="res://materials/floor_material.tres" id="5_e3hyu"]
[ext_resource type="Material" uid="uid://cwjli7ix2o4yc" path="res://materials/wall_material.tres" id="6_q5onr"]
[ext_resource type="Script" uid="uid://db8gnroasgryu" path="res://scripts/world/auto_hider.gd" id="7_jhx03"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jyhfs"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_tbgi4"]
sky_material = SubResource("ProceduralSkyMaterial_jyhfs")

[sub_resource type="Environment" id="Environment_tefeu"]
background_mode = 2
sky = SubResource("Sky_tbgi4")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_tefeu"]
vertices = PackedVector3Array(-5.2575693, 4, -9, -5.0075693, 4, -1.75, -5.0075693, 4, -9, 0.9924307, 4, -9.25, 1.4924307, 4, -1.5, 1.4924307, 4, -9, 1.4924307, 4, 1.75, -2.2575693, 4, 1.75, 1.2424307, 4, 2.25, -9.257569, 4, 2.25, -5.0075693, 4, 1.75, -9.257569, 4, 1.5, -9.507569, 4, -9.5, -9.257569, 4, -9, 1.7424307, 4, 9.25, 1.2424307, 4, 9, -9.007569, 4, 9.25, -9.507569, 4, 9.5, 9.492431, 4, 9.5, 8.992431, 4, -9.25, 9.492431, 4, -9.5, 9.242431, 4, 9, -4.0075693, 1, 1.75, -3.2575693, 1, 1.75, -3.0075693, 1, 0.75, -4.2575693, 1, 0.75, 0.24243069, 1, -8.25, -4.0075693, 1, -8.25, -4.0075693, 1, -1, 0.24243069, 1, -0.75, 1.2424307, 1, 0.75, 1.2424307, 1, -0.5, -6.0075693, 1, -0.75, -8.257569, 1, 0.75, -6.2575693, 1, -8.25, -8.257569, 1, -8.25, 2.4924307, 1, 1, 2.4924307, 1, -0.75, 8.242431, 1, 8.25, 8.242431, 1, -8.25, 2.4924307, 1, 8.25, 2.4924307, 1, -8.25, -4.2575693, 1, 3, -3.0075693, 1, 3, -8.257569, 1, 8.25, 0.24243069, 1, 8.25, 0.24243069, 1, 3, -8.257569, 1, 3)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(11, 10, 9), PackedInt32Array(0, 13, 12), PackedInt32Array(0, 12, 2), PackedInt32Array(2, 12, 3), PackedInt32Array(15, 8, 14), PackedInt32Array(14, 8, 6), PackedInt32Array(16, 14, 17), PackedInt32Array(17, 14, 18), PackedInt32Array(19, 5, 3), PackedInt32Array(17, 9, 16), PackedInt32Array(19, 3, 20), PackedInt32Array(20, 3, 12), PackedInt32Array(19, 20, 21), PackedInt32Array(21, 20, 18), PackedInt32Array(16, 15, 14), PackedInt32Array(13, 11, 12), PackedInt32Array(12, 11, 17), PackedInt32Array(18, 14, 21), PackedInt32Array(9, 17, 11), PackedInt32Array(22, 25, 23), PackedInt32Array(23, 25, 24), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 29), PackedInt32Array(31, 30, 29), PackedInt32Array(29, 30, 24), PackedInt32Array(28, 25, 32), PackedInt32Array(32, 25, 33), PackedInt32Array(25, 28, 24), PackedInt32Array(24, 28, 29), PackedInt32Array(34, 32, 35), PackedInt32Array(35, 32, 33), PackedInt32Array(31, 37, 30), PackedInt32Array(30, 37, 36), PackedInt32Array(36, 37, 38), PackedInt32Array(38, 37, 39), PackedInt32Array(38, 40, 36), PackedInt32Array(37, 41, 39), PackedInt32Array(23, 43, 22), PackedInt32Array(22, 43, 42), PackedInt32Array(43, 45, 42), PackedInt32Array(42, 45, 44), PackedInt32Array(43, 46, 45), PackedInt32Array(44, 47, 42)]

[node name="world" type="Node3D"]
script = ExtResource("1_i7141")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tefeu")

[node name="player" parent="." instance=ExtResource("2_4mrxx")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, 4, 0.52314055, 0)

[node name="camera_rig" parent="." instance=ExtResource("3_7r4gi")]

[node name="enemies" type="Node3D" parent="."]

[node name="spider" parent="enemies" instance=ExtResource("4_w7kh3")]
transform = Transform3D(1.3113416e-07, 0, 1, 0, 1, 0, -1, 0, 1.3113416e-07, -7.8674355, 0.50171745, 4.884794)

[node name="spider2" parent="enemies" instance=ExtResource("4_w7kh3")]
transform = Transform3D(1.3113416e-07, 0, 1, 0, 1, 0, -1, 0, 1.3113416e-07, -7.8674355, 0.50171745, 6.884794)

[node name="spider3" parent="enemies" instance=ExtResource("4_w7kh3")]
transform = Transform3D(1.3113416e-07, 0, 1, 0, 1, 0, -1, 0, 1.3113416e-07, -0.86743546, 0.50171745, -7.115206)

[node name="spider5" parent="enemies" instance=ExtResource("4_w7kh3")]
transform = Transform3D(1.3113416e-07, 0, 1, 0, 1, 0, -1, 0, 1.3113416e-07, 7.1325645, 0.50171745, -7.115206)

[node name="spider4" parent="enemies" instance=ExtResource("4_w7kh3")]
transform = Transform3D(1.3113416e-07, 0, 1, 0, 1, 0, -1, 0, 1.3113416e-07, -7.8674355, 0.50171745, -8.115206)

[node name="spider6" parent="enemies" instance=ExtResource("4_w7kh3")]
transform = Transform3D(1.3113416e-07, 0, 1, 0, 1, 0, -1, 0, 1.3113416e-07, 3.1325645, 0.50171745, -8.115206)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_tefeu")

[node name="map" type="Node3D" parent="NavigationRegion3D"]

[node name="floor" type="CSGBox3D" parent="NavigationRegion3D/map"]
material_override = ExtResource("5_e3hyu")
use_collision = true
size = Vector3(20, 1, 20)

[node name="lights" type="Node3D" parent="NavigationRegion3D/map"]

[node name="OmniLight3D" type="OmniLight3D" parent="NavigationRegion3D/map/lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.400004, 6, 6.1867647)
layers = 3
light_energy = 4.0
shadow_enabled = true
omni_range = 16.0

[node name="OmniLight3D2" type="OmniLight3D" parent="NavigationRegion3D/map/lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 5, -1)
layers = 3
light_energy = 4.0
shadow_enabled = true
omni_range = 16.0

[node name="inner_walls" type="Node3D" parent="NavigationRegion3D/map"]

[node name="wall5" type="CSGBox3D" parent="NavigationRegion3D/map/inner_walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.28171262, 1.4856386, 2, -5.042384)
layers = 2
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 28)
script = ExtResource("7_jhx03")

[node name="wall6" type="CSGBox3D" parent="NavigationRegion3D/map/inner_walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.28171262, 1.4856386, 2, 5.619093)
layers = 2
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 30.40332)
script = ExtResource("7_jhx03")

[node name="wall7" type="CSGBox3D" parent="NavigationRegion3D/map/inner_walls"]
transform = Transform3D(-4.371139e-08, 0, -0.28171262, 0, 1, 0, 1, 0, -1.231405e-08, -0.60889935, 2, 1.8351098)
layers = 2
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 14.009277)
script = ExtResource("7_jhx03")

[node name="wall8" type="CSGBox3D" parent="NavigationRegion3D/map/inner_walls"]
transform = Transform3D(-4.371139e-08, 0, -0.28171262, 0, 1, 0, 1, 0, -1.231405e-08, -6.744328, 2, 1.8351098)
layers = 2
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 15.631592)
script = ExtResource("7_jhx03")

[node name="wall9" type="CSGBox3D" parent="NavigationRegion3D/map/inner_walls"]
transform = Transform3D(-1, 0, 2.46281e-08, 0, 1, 0, -8.742278e-08, 0, -0.28171262, -5.044328, 2, -5.2000613)
layers = 2
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 27)
script = ExtResource("7_jhx03")

[node name="outer_walls" type="Node3D" parent="NavigationRegion3D/map"]

[node name="wall" type="CSGBox3D" parent="NavigationRegion3D/map/outer_walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.485639, 2, 0)
layers = 2
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 18)

[node name="wall2" type="CSGBox3D" parent="NavigationRegion3D/map/outer_walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.8, -9.500776, 2, 0)
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 10)

[node name="wall3" type="CSGBox3D" parent="NavigationRegion3D/map/outer_walls"]
transform = Transform3D(-4.3711385e-08, 0, 2.5, 0, 1, 0, -0.99999994, 0, -1.09278474e-07, -0.0075690327, 2, -9.493208)
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 8)

[node name="wall4" type="CSGBox3D" parent="NavigationRegion3D/map/outer_walls"]
transform = Transform3D(-4.3711385e-08, 0, 2.5, 0, 1, 0, -0.99999994, 0, -1.09278474e-07, -0.0075686397, 2, 9.493208)
layers = 2
material_override = ExtResource("6_q5onr")
use_collision = true
size = Vector3(1, 3, 8)
